(()=>{var e={};e.id=3912,e.ids=[3912],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23111:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var r=t(60687),a=t(43210),i=t(16189),l=t(17456),n=t(35390),c=t(77636),o=t(76582),d=t(20776),h=t(19112),x=t(24298),u=t(7566),m=t(2734),p=t(65813),g=t(96474),j=t(99270),v=t(10022),f=t(65777),y=t(41862),w=t(57175),N=t(88233),b=t(81997);let C={title:"",content:"",excerpt:"",slug:"",publishDate:new Date().toISOString(),author:"",authorTitle:"",authorImage:"",image:"",category:"",tags:[],featured:!1,seo:{metaTitle:"",metaDescription:"",keywords:[]},views:0},A=()=>{let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[A,k]=(0,a.useState)(""),[S,q]=(0,a.useState)(null),[D,E]=(0,a.useState)(!1),[F,T]=(0,a.useState)(!1),[_,P]=(0,a.useState)("list"),[L,J]=(0,a.useState)(C),[I,U]=(0,a.useState)(!1),[z,R]=(0,a.useState)("basic"),{toast:$}=(0,u.d)();(0,a.useEffect)(()=>{M()},[]);let M=async()=>{i(!0);try{throw Error("Authentication required")}catch(e){console.error("Error fetching articles:",e),$({title:"Error fetching articles",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1)}},O=e=>{E(!0),J(e),q(e),T(!0),R("basic")},B=async e=>{if(confirm("Are you sure you want to delete this article?"))try{throw Error("Authentication required")}catch(e){console.error("Error deleting article:",e),$({title:"Error deleting article",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}},G=async()=>{U(!0);try{throw Error("Authentication required")}catch(e){console.error("Error saving article:",e),$({title:"Error saving article",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{U(!1)}},X=e=>{let{name:s,value:t}=e.target;if(s.includes(".")){let[e,r]=s.split(".");if("seo"===e)J({...L,seo:{...L.seo,[r]:t}});else{let s=L[e];s&&"object"==typeof s&&!Array.isArray(s)?J({...L,[e]:{...s,[r]:t}}):J({...L,[e]:{[r]:t}})}}else J({...L,[s]:t})},H=(e,s)=>{J({...L,[e]:s})},Z=e.filter(e=>e.title.toLowerCase().includes(A.toLowerCase())||e.category.toLowerCase().includes(A.toLowerCase())||e.author.toLowerCase().includes(A.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(A.toLowerCase())));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Articles"}),(0,r.jsx)("p",{className:"text-slate-500 mt-2",children:"Manage all your articles"})]}),(0,r.jsxs)(n.$,{onClick:()=>{E(!1),J(C),q(null),T(!0),R("basic")},children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Create Article"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,r.jsx)(j.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500"}),(0,r.jsx)(c.p,{type:"search",placeholder:"Search articles...",className:"pl-8",value:A,onChange:e=>k(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.$,{variant:"list"===_?"secondary":"ghost",size:"icon",onClick:()=>P("list"),children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"grid"===_?"secondary":"ghost",size:"icon",onClick:()=>P("grid"),children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})]})]}),t?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(y.A,{className:"h-10 w-10 animate-spin text-primary-500"})}):(0,r.jsx)(r.Fragment,{children:"list"===_?(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-0",children:(0,r.jsxs)(d.XI,{children:[(0,r.jsx)(d.A0,{children:(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nd,{children:"Title"}),(0,r.jsx)(d.nd,{children:"Author"}),(0,r.jsx)(d.nd,{children:"Category"}),(0,r.jsx)(d.nd,{children:"Published"}),(0,r.jsx)(d.nd,{children:"Featured"}),(0,r.jsx)(d.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(d.BF,{children:0===Z.length?(0,r.jsx)(d.Hj,{children:(0,r.jsx)(d.nA,{colSpan:6,className:"text-center text-slate-500 py-10",children:"No articles found"})}):Z.map(e=>(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nA,{className:"font-medium",children:e.title}),(0,r.jsx)(d.nA,{children:e.author}),(0,r.jsx)(d.nA,{children:e.category}),(0,r.jsx)(d.nA,{children:new Date(e.publishDate).toLocaleDateString()}),(0,r.jsx)(d.nA,{children:e.featured?(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Yes"}):(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-800",children:"No"})}),(0,r.jsx)(d.nA,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>O(e),children:(0,r.jsx)(w.A,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>B(e.id||e._id||""),children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})]})})]},e.id||e._id))})]})})}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:0===Z.length?(0,r.jsx)("div",{className:"col-span-full text-center text-slate-500 py-10",children:"No articles found"}):Z.map(e=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-lg text-ellipsis overflow-hidden whitespace-nowrap",title:e.title,children:e.title}),(0,r.jsxs)(l.BT,{className:"flex justify-between",children:[(0,r.jsx)("span",{children:e.author}),(0,r.jsx)("span",{children:new Date(e.publishDate).toLocaleDateString()})]})]}),(0,r.jsxs)(l.Wu,{className:"pb-2",children:[(0,r.jsx)("p",{className:"text-sm text-slate-500 line-clamp-2",children:e.excerpt}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((e,s)=>(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-0.5 text-xs font-medium text-blue-700",children:e},s)),e.tags.length>3&&(0,r.jsxs)("span",{className:"inline-flex items-center rounded-full bg-slate-50 px-2 py-0.5 text-xs font-medium text-slate-700",children:["+",e.tags.length-3]})]})]}),(0,r.jsxs)(l.wL,{className:"justify-between",children:[(0,r.jsx)("div",{children:e.featured&&(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Featured"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>O(e),children:(0,r.jsx)(w.A,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>B(e.id||e._id||""),children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})]})]})]},e.id||e._id))})}),(0,r.jsx)(x.lG,{open:F,onOpenChange:T,children:(0,r.jsxs)(x.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(x.c7,{children:[(0,r.jsx)(x.L3,{children:D?"Edit Article":"Create New Article"}),(0,r.jsx)(x.rr,{children:D?"Make changes to the article":"Add a new article to your collection"})]}),(0,r.jsxs)(m.tU,{value:z,onValueChange:R,children:[(0,r.jsxs)(m.j7,{className:"grid grid-cols-3 mb-6",children:[(0,r.jsx)(m.Xi,{value:"basic",children:"Basic Info"}),(0,r.jsx)(m.Xi,{value:"content",children:"Content"}),(0,r.jsx)(m.Xi,{value:"seo",children:"SEO & Metadata"})]}),(0,r.jsx)(m.av,{value:"basic",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"title",children:"Title *"}),(0,r.jsx)(c.p,{id:"title",name:"title",value:L.title,onChange:X,placeholder:"Article title",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"category",children:"Category *"}),(0,r.jsx)(c.p,{id:"category",name:"category",value:L.category,onChange:X,placeholder:"Article category",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"publishDate",children:"Publish Date"}),(0,r.jsx)(c.p,{id:"publishDate",name:"publishDate",type:"date",value:L.publishDate.split("T")[0],onChange:X})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"image",children:"Featured Image URL"}),(0,r.jsx)(c.p,{id:"image",name:"image",value:L.image,onChange:X,placeholder:"https://example.com/image.jpg"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"excerpt",children:"Excerpt *"}),(0,r.jsx)(h.T,{id:"excerpt",name:"excerpt",value:L.excerpt,onChange:X,placeholder:"Brief overview of the article",required:!0,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"tags",children:"Tags"}),(0,r.jsx)(c.p,{id:"tags",name:"tags",value:Array.isArray(L.tags)?L.tags.join(", "):L.tags,onChange:X,placeholder:"study abroad, scholarships, etc."}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Comma-separated list of tags"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"author",children:"Author *"}),(0,r.jsx)(c.p,{id:"author",name:"author",value:L.author,onChange:X,placeholder:"Author name",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"authorTitle",children:"Author Title"}),(0,r.jsx)(c.p,{id:"authorTitle",name:"authorTitle",value:L.authorTitle,onChange:X,placeholder:"e.g. Education Consultant"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"authorImage",children:"Author Image URL"}),(0,r.jsx)(c.p,{id:"authorImage",name:"authorImage",value:L.authorImage,onChange:X,placeholder:"https://example.com/author.jpg"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.S,{id:"featured",checked:L.featured,onCheckedChange:e=>H("featured",e)}),(0,r.jsx)(o.J,{htmlFor:"featured",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Feature this article (will be displayed prominently)"})]})]})}),(0,r.jsx)(m.av,{value:"content",className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"content",children:"Content *"}),(0,r.jsx)(b.A,{content:L.content,onChange:e=>{J({...L,content:e})},placeholder:"Start writing your article content...",className:"min-h-[400px]"}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Supports rich text formatting and markdown"})]})}),(0,r.jsxs)(m.av,{value:"seo",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"seo.metaTitle",children:"Meta Title"}),(0,r.jsx)(c.p,{id:"seo.metaTitle",name:"seo.metaTitle",value:L.seo.metaTitle,onChange:X,placeholder:"SEO title (if different from article title)"}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"If left empty, the article title will be used"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"seo.metaDescription",children:"Meta Description"}),(0,r.jsx)(h.T,{id:"seo.metaDescription",name:"seo.metaDescription",value:L.seo.metaDescription,onChange:X,placeholder:"SEO description",rows:3}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"If left empty, the article excerpt will be used"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"seo.keywords",children:"Keywords"}),(0,r.jsx)(c.p,{id:"seo.keywords",name:"seo.keywords",value:Array.isArray(L.seo.keywords)?L.seo.keywords.join(", "):L.seo.keywords,onChange:X,placeholder:"keyword1, keyword2, keyword3"}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Comma-separated list of keywords"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"slug",children:"URL Slug *"}),(0,r.jsx)(c.p,{id:"slug",name:"slug",value:L.slug,onChange:X,placeholder:"article-url-slug",required:!0}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"The slug will be used in the article URL (e.g., /articles/article-url-slug)"})]})]})]}),(0,r.jsxs)(x.Es,{children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>T(!1),disabled:I,children:"Cancel"}),(0,r.jsx)(n.$,{onClick:G,disabled:I,children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),D?"Updating...":"Creating..."]}):D?"Update Article":"Create Article"})]})]})})]})};function k(){return(0,i.useRouter)(),(0,r.jsx)("div",{className:"container mx-auto py-10",children:(0,r.jsx)(A,{})})}},23595:(e,s,t)=>{Promise.resolve().then(t.bind(t,23111))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43374:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>o});var r=t(65239),a=t(48088),i=t(88170),l=t.n(i),n=t(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o={children:["",{children:["admin",{children:["articles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,61315)),"D:\\downloads\\git changes\\migration\\Sg-with-ssr-migration-10-again\\app\\admin\\articles\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"D:\\downloads\\git changes\\migration\\Sg-with-ssr-migration-10-again\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,31142)),"D:\\downloads\\git changes\\migration\\Sg-with-ssr-migration-10-again\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["D:\\downloads\\git changes\\migration\\Sg-with-ssr-migration-10-again\\app\\admin\\articles\\page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/articles/page",pathname:"/admin/articles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61315:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\downloads\\\\git changes\\\\migration\\\\Sg-with-ssr-migration-10-again\\\\app\\\\admin\\\\articles\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\downloads\\git changes\\migration\\Sg-with-ssr-migration-10-again\\app\\admin\\articles\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63347:(e,s,t)=>{Promise.resolve().then(t.bind(t,61315))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,7696,6620,1797,3643,880],()=>t(43374));module.exports=r})();