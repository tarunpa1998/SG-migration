(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5458],{9726:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>F});var a=i(95155),l=i(12115),r=i(35695),t=i(52338),n=i(78496),c=i(492),d=i(25930),o=i(14236),h=i(75234),m=i(16784),x=i(9436),p=i(28452),u=i(87027),j=i(84616),y=i(47924),g=i(57434),v=i(14541),f=i(51154),w=i(89917),N=i(62525);let k=(0,i(19946).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var C=i(69074),A=i(90424);let S={title:"",description:"",summary:"",slug:"",university:"",country:"",amount:"",deadline:"",requirements:"",applicationLink:"",isFeatured:!1,image:"",seo:{metaTitle:"",metaDescription:"",keywords:[]}},b=()=>{var e;let[s,i]=(0,l.useState)([]),[r,b]=(0,l.useState)(!0),[F,E]=(0,l.useState)(""),[T,L]=(0,l.useState)(null),[q,D]=(0,l.useState)(!1),[J,_]=(0,l.useState)(!1),[U,$]=(0,l.useState)("list"),[M,I]=(0,l.useState)(S),[O,z]=(0,l.useState)(!1),[B,R]=(0,l.useState)("basic"),{toast:H}=(0,x.d)();(0,l.useEffect)(()=>{P()},[]);let P=async()=>{b(!0);try{if(!localStorage.getItem("adminToken"))throw Error("Authentication required");let e=await fetch("/api/scholarships");if(!e.ok)throw Error("Failed to fetch scholarships");let s=await e.json();i(s)}catch(e){console.error("Error fetching scholarships:",e),H({title:"Error fetching scholarships",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{b(!1)}},X=e=>{D(!0),I(e),L(e),_(!0),R("basic")},Z=async e=>{if(confirm("Are you sure you want to delete this scholarship?"))try{let a=localStorage.getItem("adminToken");if(!a)throw Error("Authentication required");if(!(await fetch("/api/admin/scholarships/".concat(e),{method:"DELETE",headers:{"x-auth-token":a}})).ok)throw Error("Failed to delete scholarship");i(s.filter(s=>s._id!==e&&s.id!==e)),H({title:"Scholarship deleted",description:"The scholarship has been deleted successfully",variant:"default"})}catch(e){console.error("Error deleting scholarship:",e),H({title:"Error deleting scholarship",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}},W=async()=>{z(!0);try{let e=localStorage.getItem("adminToken");if(!e)throw Error("Authentication required");if(!M.title||!M.description||!M.university)throw Error("Title, description, and university are required");let a={...M,seo:{...M.seo,keywords:"string"==typeof M.seo.keywords?String(M.seo.keywords).split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(M.seo.keywords)?M.seo.keywords:[]}},l=(null==T?void 0:T.id)||(null==T?void 0:T._id),r=await fetch(q?"/api/admin/scholarships/".concat(l):"/api/admin/scholarships",{method:q?"PUT":"POST",headers:{"Content-Type":"application/json","x-auth-token":e},body:JSON.stringify(a)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to save scholarship")}let t=await r.json();q?i(s.map(e=>e.id===t.id||e._id===t._id?t:e)):i([...s,t]),_(!1),H({title:q?"Scholarship updated":"Scholarship created",description:q?"The scholarship has been updated successfully":"A new scholarship has been created successfully",variant:"default"})}catch(e){console.error("Error saving scholarship:",e),H({title:"Error saving scholarship",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{z(!1)}},G=e=>{let{name:s,value:i}=e.target;if(s.includes(".")){let[e,a]=s.split(".");if("seo"===e)I({...M,seo:{...M.seo,[a]:i}});else{let s=M[e];s&&"object"==typeof s&&!Array.isArray(s)?I({...M,[e]:{...s,[a]:i}}):I({...M,[e]:{[a]:i}})}}else I({...M,[s]:i})},K=(e,s)=>{I({...M,[e]:s})},V=s.filter(e=>e.title.toLowerCase().includes(F.toLowerCase())||e.university.toLowerCase().includes(F.toLowerCase())||e.country.toLowerCase().includes(F.toLowerCase()));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Scholarships"}),(0,a.jsx)("p",{className:"text-slate-500 mt-2",children:"Manage scholarships for universities"})]}),(0,a.jsxs)(n.$,{onClick:()=>{D(!1),I(S),L(null),_(!0),R("basic")},children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Add Scholarship"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,a.jsx)(y.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500"}),(0,a.jsx)(c.p,{type:"search",placeholder:"Search scholarships...",className:"pl-8",value:F,onChange:e=>E(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.$,{variant:"list"===U?"secondary":"ghost",size:"icon",onClick:()=>$("list"),children:(0,a.jsx)(g.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"grid"===U?"secondary":"ghost",size:"icon",onClick:()=>$("grid"),children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]})]}),r?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(f.A,{className:"h-10 w-10 animate-spin text-primary-500"})}):(0,a.jsx)(a.Fragment,{children:"list"===U?(0,a.jsx)(t.Zp,{children:(0,a.jsx)(t.Wu,{className:"p-0",children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Title"}),(0,a.jsx)(o.nd,{children:"University"}),(0,a.jsx)(o.nd,{children:"Country"}),(0,a.jsx)(o.nd,{children:"Amount"}),(0,a.jsx)(o.nd,{children:"Deadline"}),(0,a.jsx)(o.nd,{children:"Featured"}),(0,a.jsx)(o.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:0===V.length?(0,a.jsx)(o.Hj,{children:(0,a.jsx)(o.nA,{colSpan:7,className:"text-center text-slate-500 py-10",children:"No scholarships found"})}):V.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{className:"font-medium",children:e.title}),(0,a.jsx)(o.nA,{children:e.university}),(0,a.jsx)(o.nA,{children:e.country}),(0,a.jsx)(o.nA,{children:e.amount}),(0,a.jsx)(o.nA,{children:e.deadline&&new Date(e.deadline).toLocaleDateString()}),(0,a.jsx)(o.nA,{children:e.isFeatured?(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Yes"}):(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-800",children:"No"})}),(0,a.jsx)(o.nA,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>X(e),children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>Z(e.id||e._id||""),children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})]})})]},e.id||e._id))})]})})}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:0===V.length?(0,a.jsx)("div",{className:"col-span-full text-center text-slate-500 py-10",children:"No scholarships found"}):V.map(e=>(0,a.jsxs)(t.Zp,{children:[(0,a.jsxs)(t.aR,{className:"pb-2",children:[(0,a.jsx)(t.ZB,{className:"text-lg text-ellipsis overflow-hidden whitespace-nowrap",title:e.title,children:e.title}),(0,a.jsxs)(t.BT,{className:"flex justify-between",children:[(0,a.jsx)("span",{children:e.university}),(0,a.jsx)("span",{children:e.country})]})]}),(0,a.jsxs)(t.Wu,{className:"pb-2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(k,{className:"h-4 w-4 mr-1 text-green-600"}),(0,a.jsx)("span",{children:e.amount})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-1 text-blue-600"}),(0,a.jsx)("span",{children:e.deadline&&new Date(e.deadline).toLocaleDateString()})]})]}),(0,a.jsxs)(t.wL,{className:"justify-between",children:[(0,a.jsx)("div",{children:e.isFeatured&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Featured"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>X(e),children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>Z(e.id||e._id||""),children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})]})]})]},e.id||e._id))})}),(0,a.jsx)(m.lG,{open:J,onOpenChange:_,children:(0,a.jsxs)(m.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(m.c7,{children:[(0,a.jsx)(m.L3,{children:q?"Edit Scholarship":"Create New Scholarship"}),(0,a.jsx)(m.rr,{children:q?"Make changes to the scholarship":"Add a new scholarship to your collection"})]}),(0,a.jsxs)(p.tU,{value:B,onValueChange:R,children:[(0,a.jsxs)(p.j7,{className:"grid grid-cols-3 mb-6",children:[(0,a.jsx)(p.Xi,{value:"basic",children:"Basic Info"}),(0,a.jsx)(p.Xi,{value:"details",children:"Details"}),(0,a.jsx)(p.Xi,{value:"seo",children:"SEO & Metadata"})]}),(0,a.jsx)(p.av,{value:"basic",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"title",children:"Title *"}),(0,a.jsx)(c.p,{id:"title",name:"title",value:M.title,onChange:G,placeholder:"Scholarship title",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"university",children:"University *"}),(0,a.jsx)(c.p,{id:"university",name:"university",value:M.university,onChange:G,placeholder:"University name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"country",children:"Country *"}),(0,a.jsx)(c.p,{id:"country",name:"country",value:M.country,onChange:G,placeholder:"Country",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"amount",children:"Amount *"}),(0,a.jsx)(c.p,{id:"amount",name:"amount",value:M.amount,onChange:G,placeholder:"e.g. $5,000 or Full Tuition",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"deadline",children:"Application Deadline"}),(0,a.jsx)(c.p,{id:"deadline",name:"deadline",type:"date",value:null==(e=M.deadline)?void 0:e.split("T")[0],onChange:G})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"summary",children:"Summary *"}),(0,a.jsx)(h.T,{id:"summary",name:"summary",value:M.summary,onChange:G,placeholder:"Brief overview of the scholarship",required:!0,rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"image",children:"Scholarship Image URL"}),(0,a.jsx)(c.p,{id:"image",name:"image",value:M.image,onChange:G,placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.S,{id:"isFeatured",checked:M.isFeatured,onCheckedChange:e=>K("isFeatured",e)}),(0,a.jsx)(d.J,{htmlFor:"isFeatured",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Feature this scholarship (will be displayed prominently)"})]})]})}),(0,a.jsx)(p.av,{value:"details",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"description",children:"Full Description *"}),(0,a.jsx)(A.A,{content:M.description,onChange:e=>{I({...M,description:e})},placeholder:"Start writing detailed scholarship information...",className:"min-h-[400px]"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Provide detailed information about the scholarship, eligibility, benefits, etc."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"requirements",children:"Requirements"}),(0,a.jsx)(h.T,{id:"requirements",name:"requirements",value:M.requirements,onChange:G,placeholder:"List of requirements for this scholarship",rows:4})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"applicationLink",children:"Application Link"}),(0,a.jsx)(c.p,{id:"applicationLink",name:"applicationLink",value:M.applicationLink,onChange:G,placeholder:"https://example.com/apply"})]})]})}),(0,a.jsxs)(p.av,{value:"seo",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"seo.metaTitle",children:"Meta Title"}),(0,a.jsx)(c.p,{id:"seo.metaTitle",name:"seo.metaTitle",value:M.seo.metaTitle,onChange:G,placeholder:"SEO title (if different from scholarship title)"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"If left empty, the scholarship title will be used"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"seo.metaDescription",children:"Meta Description"}),(0,a.jsx)(h.T,{id:"seo.metaDescription",name:"seo.metaDescription",value:M.seo.metaDescription,onChange:G,placeholder:"SEO description",rows:3}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"If left empty, the scholarship summary will be used"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"seo.keywords",children:"Keywords"}),(0,a.jsx)(c.p,{id:"seo.keywords",name:"seo.keywords",value:Array.isArray(M.seo.keywords)?M.seo.keywords.join(", "):M.seo.keywords,onChange:G,placeholder:"keyword1, keyword2, keyword3"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Comma-separated list of keywords"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"slug",children:"URL Slug *"}),(0,a.jsx)(c.p,{id:"slug",name:"slug",value:M.slug,onChange:G,placeholder:"scholarship-url-slug",required:!0}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"The slug will be used in the scholarship URL (e.g., /scholarships/scholarship-url-slug)"})]})]})]}),(0,a.jsxs)(m.Es,{children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>_(!1),disabled:O,children:"Cancel"}),(0,a.jsx)(n.$,{onClick:W,disabled:O,children:O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),q?"Updating...":"Creating..."]}):q?"Update Scholarship":"Create Scholarship"})]})]})})]})};function F(){return(0,r.useRouter)(),(0,a.jsx)("div",{className:"container mx-auto py-10",children:(0,a.jsx)(b,{})})}},32947:(e,s,i)=>{Promise.resolve().then(i.bind(i,9726))},69074:(e,s,i)=>{"use strict";i.d(s,{A:()=>a});let a=(0,i(19946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[5004,277,4277,1615,2898,2208,1071,9613,6521,2356,8441,1684,7358],()=>s(32947)),_N_E=e.O()}]);